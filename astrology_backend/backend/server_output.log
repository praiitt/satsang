
> rraasi-backend@1.0.0 start
> node src/server.js

[32minfo[39m: Firebase Admin SDK initialized with application default credentials {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: Firestore service initialized {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: Firestore RAG Service initialized {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: ðŸš€ Rraasi Backend Server running on port 3000 {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: ðŸ“Š Environment: development {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: ðŸ”— Health check: http://localhost:3000/health {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: âœ… LangChain service initialized successfully {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: Starting scheduled tasks service {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: Performing scheduled astrology API key health check {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: Checking astrology API key status {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: API key health check scheduled every 6 hours {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: General health check scheduled every hour {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: Scheduled tasks service started successfully {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: âœ… Scheduled tasks service initialized successfully {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: RAG storage directory ensured {"path":"/Users/prakash/Documents/rraasi_mvp/backend/data/rag","service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: Astrology API key is valid and working {"service":"rraasi-backend","timestamp":"2025-08-24 13:55:27"}
[32minfo[39m: Astrology API key is healthy {"lastChecked":"2025-08-24T08:25:27.438Z","service":"rraasi-backend","status":"active","timestamp":"2025-08-24 13:55:27"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 13:59:39","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 13:59:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 13:59:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 13:59:39","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 13:59:39","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:29:39 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 249 "-" "curl/8.7.1" {"service":"rraasi-backend","timestamp":"2025-08-24 13:59:39"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:00:12","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:00:12","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:00:12","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:00:12","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:00:12","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:30:12 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 249 "-" "curl/8.7.1" {"service":"rraasi-backend","timestamp":"2025-08-24 14:00:12"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:01:19","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:01:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:01:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:01:19","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:01:19","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:31:19 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 249 "-" "curl/8.7.1" {"service":"rraasi-backend","timestamp":"2025-08-24 14:01:19"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:13 +0000] "OPTIONS /api/auth/signin HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:13"}
[32minfo[39m: User signin request {"email":"dinesh@gmail.com","service":"rraasi-backend","timestamp":"2025-08-24 14:03:13"}
[32minfo[39m: User attempting to sign in {"email":"dinesh@gmail.com","service":"rraasi-backend","timestamp":"2025-08-24 14:03:13"}
[33mwarn[39m: Firestore not available, trying Hybrid RAG {"error":"Missing or insufficient permissions.","service":"rraasi-backend","timestamp":"2025-08-24 14:03:14","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Hybrid RAG {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:14","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Processing charts for RAG during login {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:14","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Processing charts for RAG at runtime {"chartType":null,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Vector store updated with charts {"chartCount":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Charts processed for RAG successfully {"processedCount":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Charts processed for RAG successfully during login {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User signed in successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User signin successful {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:15 +0000] "POST /api/auth/signin HTTP/1.1" 200 586 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:15 +0000] "OPTIONS /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:15 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 483 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:03:15","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:15 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 200 249 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:15 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["6936451538529529973;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:15"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:15 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["7152923184065742739;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:15"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:15 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:15 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:15 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["3738072112784045706;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:15"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:15 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:15","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["5847253862595501216;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:16"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:16 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["3939445618773659580;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:16"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:16 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["1246544573935804441;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:16"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:16 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:16"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:39 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:39 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:39 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 550 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:39 +0000] "OPTIONS /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:39 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:03:39","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:39 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:39"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:42 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:42 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["10671906713796987566;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:42"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:42 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["15404305858869389362;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:42"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:42 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:42 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:42 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["4415044159164945270;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:42"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:42 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["14364405375909126304;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:42"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:42 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["6180698545816802562;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:42"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:42 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["14417004226636106564;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:03:42"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:33:42 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:03:42"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:03 +0000] "OPTIONS /api/chat/conversations?limit=20 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:03"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:04:03","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":20,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:03","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:03"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["12786547257257766456;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/chat.js:399:53\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:04:03"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:04:03","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:03"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:04:03"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:03","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:03 +0000] "GET /api/chat/conversations?limit=20 HTTP/1.1" 200 107 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:03"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:09 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:09 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:09 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:09 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:09 +0000] "OPTIONS /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:09 +0000] "OPTIONS /api/chat/conversations?limit=20 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":20,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["13481106216982231372;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/chat.js:399:53\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:04:09"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:04:09","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:09 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:09 +0000] "GET /api/chat/conversations?limit=20 HTTP/1.1" 200 107 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:09"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:19 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:19 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:19 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:19 +0000] "OPTIONS /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:19 +0000] "OPTIONS /api/chat/conversations?limit=20 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":20,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:19 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["3749082752400896294;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/chat.js:399:53\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:04:19"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:04:19","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:19 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:19 +0000] "GET /api/chat/conversations?limit=20 HTTP/1.1" 200 107 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:19"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:22 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":20,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:22 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["5480563349270142572;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/chat.js:399:53\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:04:22"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:04:22","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:22 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:04:22"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:22 +0000] "GET /api/chat/conversations?limit=20 HTTP/1.1" 200 107 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:22"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:30 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:30 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:30 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:30 +0000] "OPTIONS /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:30 +0000] "OPTIONS /api/chat/conversations?limit=20 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":20,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:30 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["16217616040546236101;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/chat.js:399:53\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:04:30"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:04:30","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:30 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:30 +0000] "GET /api/chat/conversations?limit=20 HTTP/1.1" 200 107 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:30"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:40 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:40 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:40 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:40 +0000] "OPTIONS /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:40 +0000] "OPTIONS /api/chat/conversations?limit=20 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:40","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":20,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["4121284658704066040;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/chat.js:399:53\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:04:41"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:04:41","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:04:41","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:41 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:41 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:04:41"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:41 +0000] "GET /api/chat/conversations?limit=20 HTTP/1.1" 200 107 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:41"}
[2025-08-24T08:34:44.395Z]  @firebase/firestore: Firestore (12.0.0): GrpcConnection RPC 'Listen' stream 0x89e29e0f error. Code: 1 Message: 1 CANCELLED: Disconnecting idle stream. Timed out waiting for new targets.
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:46 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:46 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:46 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:46 +0000] "OPTIONS /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:46 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:04:46","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:34:46 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:04:46"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:35 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:35 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:35 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:35 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:35"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:47 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:47 +0000] "OPTIONS /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:47 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:47 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:47"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:50 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50"}
[32minfo[39m: Simple get current user request {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:50 +0000] "OPTIONS /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50"}
ðŸ”¥ðŸ”¥ðŸ”¥ USER-STATUS ENDPOINT HIT ðŸ”¥ðŸ”¥ðŸ”¥
[32minfo[39m: Checking user status for Astro Agents {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:50 +0000] "GET /api/auth/me-simple?uid=uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User has charts - Astro Agents available {"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:10:50","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Astro Agents status determined {"astroAgentsLive":5,"isOnline":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50","totalCharts":5,"uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:50 +0000] "GET /api/auth/user-status/uDkylEmMWPQn6xRBydQb16ltUle2?autoImport=false HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:50"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:57 +0000] "OPTIONS /api/chat/conversations HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:57 +0000] "POST /api/chat/conversations HTTP/1.1" 404 60 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:57 +0000] "OPTIONS /api/chat/history?limit=50&conversationId=conv_1756024857446 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting chat history {"conversationId":"conv_1756024857446","limit":50,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting chat history from Firestore {"conversationId":"conv_1756024857446","limit":50,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:57 +0000] "OPTIONS /api/chat/conversations/conv_1756024857446 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:57 +0000] "PUT /api/chat/conversations/conv_1756024857446 HTTP/1.1" 404 79 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:57 +0000] "OPTIONS /api/chat HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Received chat request {"bodyKeys":["query","userContext","conversationHistory","conversationId"],"bodyPreview":"{\"query\":\"hi\",\"userContext\":{\"userId\":\"uDkylEmMWPQn6xRBydQb16ltUle2\"},\"conversationHistory\":[],\"conversationId\":\"conv_1756024857446\"}...","hasConversationHistory":true,"hasQuery":true,"hasUserContext":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57"}
[32minfo[39m: Processing chat query {"conversationHistory":[],"conversationHistoryLength":0,"hasBirthData":false,"query":"hi","service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Processing chat query {"hasBirthData":false,"query":"hi...","service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 0 messages from Firestore {"conversationId":"conv_1756024857446","service":"rraasi-backend","timestamp":"2025-08-24 14:10:57"}
[32minfo[39m: Chat history retrieved successfully {"conversationId":"conv_1756024857446","messageCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:40:57 +0000] "GET /api/chat/history?limit=50&conversationId=conv_1756024857446 HTTP/1.1" 200 72 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Found user profile in hybrid RAG {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Processing charts for RAG at runtime {"chartType":null,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:57","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Vector store updated with charts {"chartCount":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:58"}
[32minfo[39m: Charts processed for RAG successfully {"processedCount":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:58","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Enhanced user context with runtime RAG chart data Charts processed for RAG at runtime {"chartTypes":[null,null,null,null,null],"hasChartData":false,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:58","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User context enhancement completed {"hasBirthData":false,"hasChartData":false,"hasUserProfile":false,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:58","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Processing query with function calling approach {"chartDataDetails":[{"count":0,"hasData":false,"type":"0"},{"count":0,"hasData":false,"type":"1"},{"count":0,"hasData":false,"type":"2"},{"count":0,"hasData":false,"type":"3"},{"count":0,"hasData":false,"type":"4"}],"chartDataKeys":["0","1","2","3","4"],"conversationHistory":[],"conversationHistoryLength":0,"hasBirthData":false,"hasChartData":false,"query":"hi","service":"rraasi-backend","timestamp":"2025-08-24 14:10:58","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chart data availability check: {"chartDataDetails":[{"count":0,"hasData":false,"sampleData":[],"type":"0"},{"count":0,"hasData":false,"sampleData":[],"type":"1"},{"count":0,"hasData":false,"sampleData":[],"type":"2"},{"count":0,"hasData":false,"sampleData":[],"type":"3"},{"count":0,"hasData":false,"sampleData":[],"type":"4"}],"chartDataKeys":["0","1","2","3","4"],"hasChartData":false,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:58","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: No contact charts available for compatibility analysis {"service":"rraasi-backend","timestamp":"2025-08-24 14:10:58"}
[32minfo[39m: Messages being sent to LLM {"conversationHistory":[],"conversationHistoryLength":0,"service":"rraasi-backend","systemMessageLength":2105,"timestamp":"2025-08-24 14:10:58","totalMessages":2}
[32minfo[39m: Calling LLM with functions {"availableFunctions":["select_relevant_charts","get_birth_chart","analyze_current_transits"],"contactCount":0,"hasContactCharts":false,"hasData":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:10:58"}
[32minfo[39m: Saving chat message {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:00","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Storing chat message in Firestore {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:00","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message stored successfully in Firestore {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:00","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message saved successfully {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:00","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Saving chat message {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:00","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Storing chat message in Firestore {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:00","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message stored successfully in Firestore {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message saved successfully {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat messages saved to database {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat query processed {"confidence":0.9,"responseLength":220,"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:01 +0000] "POST /api/chat HTTP/1.1" 200 389 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:01 +0000] "OPTIONS /api/chat/save-message HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Saving chat message {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Storing chat message in Firestore {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting chat history {"conversationId":"conv_1756024857446","limit":50,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting chat history from Firestore {"conversationId":"conv_1756024857446","limit":50,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01"}
[32minfo[39m: Chat message stored successfully in Firestore {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message saved successfully {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:01 +0000] "POST /api/chat/save-message HTTP/1.1" 200 99 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Saving chat message {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Storing chat message in Firestore {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 0 messages from Firestore {"conversationId":"conv_1756024857446","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01"}
[32minfo[39m: Chat history retrieved successfully {"conversationId":"conv_1756024857446","messageCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:01 +0000] "GET /api/chat/history?limit=50&conversationId=conv_1756024857446 HTTP/1.1" 200 72 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01"}
[32minfo[39m: Chat message stored successfully in Firestore {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message saved successfully {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:01","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:01 +0000] "POST /api/chat/save-message HTTP/1.1" 200 99 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:01"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:13 +0000] "OPTIONS /api/chat HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Received chat request {"bodyKeys":["query","userContext","conversationHistory","conversationId"],"bodyPreview":"{\"query\":\"tell me about my personalty\",\"userContext\":{\"userId\":\"uDkylEmMWPQn6xRBydQb16ltUle2\"},\"conversationHistory\":[{\"type\":\"assistant\",\"content\":\"Hello! How can I assist you on your astrological jo...","hasConversationHistory":true,"hasQuery":true,"hasUserContext":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13"}
[32minfo[39m: Processing chat query {"conversationHistory":[{"content":"Hello! How can I assist you on your astrological j...","timestamp":"2025-08-24T08:41:01.014Z","type":"assistant"}],"conversationHistoryLength":1,"hasBirthData":false,"query":"tell me about my personalty","service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Processing chat query {"hasBirthData":false,"query":"tell me about my personalty...","service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:13 +0000] "OPTIONS /api/chat/history?limit=50&conversationId=conv_1756024857446 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting chat history {"conversationId":"conv_1756024857446","limit":50,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting chat history from Firestore {"conversationId":"conv_1756024857446","limit":50,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13"}
[32minfo[39m: Retrieved 0 messages from Firestore {"conversationId":"conv_1756024857446","service":"rraasi-backend","timestamp":"2025-08-24 14:11:13"}
[32minfo[39m: Chat history retrieved successfully {"conversationId":"conv_1756024857446","messageCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:13 +0000] "GET /api/chat/history?limit=50&conversationId=conv_1756024857446 HTTP/1.1" 200 72 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Found user profile in hybrid RAG {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Processing charts for RAG at runtime {"chartType":null,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:13","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Vector store updated with charts {"chartCount":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:14"}
[32minfo[39m: Charts processed for RAG successfully {"processedCount":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Enhanced user context with runtime RAG chart data Charts processed for RAG at runtime {"chartTypes":[null,null,null,null,null],"hasChartData":false,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:14","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User context enhancement completed {"hasBirthData":false,"hasChartData":false,"hasUserProfile":false,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Processing query with function calling approach {"chartDataDetails":[{"count":0,"hasData":false,"type":"0"},{"count":0,"hasData":false,"type":"1"},{"count":0,"hasData":false,"type":"2"},{"count":0,"hasData":false,"type":"3"},{"count":0,"hasData":false,"type":"4"}],"chartDataKeys":["0","1","2","3","4"],"conversationHistory":[{"content":"Hello! How can I assist you on your astrological j...","type":"assistant"}],"conversationHistoryLength":1,"hasBirthData":false,"hasChartData":false,"query":"tell me about my personalty","service":"rraasi-backend","timestamp":"2025-08-24 14:11:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chart data availability check: {"chartDataDetails":[{"count":0,"hasData":false,"sampleData":[],"type":"0"},{"count":0,"hasData":false,"sampleData":[],"type":"1"},{"count":0,"hasData":false,"sampleData":[],"type":"2"},{"count":0,"hasData":false,"sampleData":[],"type":"3"},{"count":0,"hasData":false,"sampleData":[],"type":"4"}],"chartDataKeys":["0","1","2","3","4"],"hasChartData":false,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:14","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: No contact charts available for compatibility analysis {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:14"}
[32minfo[39m: Messages being sent to LLM {"conversationHistory":[{"content":"Hello! How can I assist you on your astrological journey today? Whether it's insights on your person...","type":"assistant"}],"conversationHistoryLength":1,"service":"rraasi-backend","systemMessageLength":2105,"timestamp":"2025-08-24 14:11:14","totalMessages":3}
[32minfo[39m: Calling LLM with functions {"availableFunctions":["select_relevant_charts","get_birth_chart","analyze_current_transits"],"contactCount":0,"hasContactCharts":false,"hasData":true,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:14"}
[32minfo[39m: Function called {"functionName":"select_relevant_charts","service":"rraasi-backend","timestamp":"2025-08-24 14:11:17"}
[32minfo[39m: Available methods on this: {"0":"constructor","1":"initialize","10":"handleChartSelection","11":"handleBirthChartRequest","12":"handleRomanticCompatibility","13":"handleBusinessCompatibility","14":"handleFriendshipCompatibility","15":"handleFamilyCompatibility","16":"handleRelationshipInsights","17":"handleTransitAnalysis","18":"handleCompatibilityScoring","19":"handleBirthDataRequest","2":"setupChains","20":"processAstrologyQuery","21":"processWellnessQuery","22":"processCompatibilityQuery","23":"processGeneralQuery","24":"parseAstrologyResponse","25":"parseWellnessResponse","26":"parseCompatibilityResponse","27":"executeAstrologyFunction","28":"executeWellnessFunction","29":"executeCompatibilityFunction","3":"processChatQuery","30":"getBirthChart","31":"getCurrentTransits","32":"getPersonalizedReading","33":"getYogaRecommendations","34":"getDoshaAnalysis","35":"getMantraSuggestions","36":"analyzeCompatibility","37":"getRelationshipInsights","38":"isRelationshipQuery","39":"extractTaggedContacts","4":"enhanceUserContext","40":"processRelationshipQuery","41":"getContactProfile","42":"analyzeCompatibilityWithCharts","43":"extractSignFromContent","44":"extractAscendantFromContent","45":"extractNakshatraFromContent","46":"extractPlanetarySummary","47":"extractDashaInfo","48":"extractAscendantLordFromContent","49":"extractTithiFromContent","5":"hasChartData","50":"extractYogFromContent","51":"extractKaranFromContent","52":"processMatchmakingQuery","53":"createChartComparison","54":"createBusinessChartComparison","55":"createFriendshipChartComparison","56":"createFamilyChartComparison","57":"calculateCompatibilityScore","58":"calculateRomanticScore","59":"calculateBusinessScore","6":"selectRelevantCharts","60":"calculateFriendshipScore","61":"calculateFamilyScore","62":"createScoreBreakdown","63":"createRomanticBreakdown","64":"createBusinessBreakdown","65":"createFriendshipBreakdown","66":"createFamilyBreakdown","67":"generateDynamicFunctions","68":"handleGroupCompatibility","69":"analyzeGroupMember","7":"getUserProfile","70":"analyzeGroupDynamics","71":"generateGroupRecommendations","72":"getSunSign","73":"getElement","74":"getModality","75":"getBusinessTraits","76":"getFamilyTraits","77":"getRelationshipTraits","78":"analyzeLeadershipDynamics","79":"analyzeCommunicationDynamics","8":"classifyQuery","80":"analyzeHarmonyDynamics","9":"processQueryWithFunctions","service":"rraasi-backend","timestamp":"2025-08-24 14:11:17"}
[32minfo[39m: Checking if handleBirthChartRequest exists: {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:17"}
[32minfo[39m: Chart selection function called {"availableCharts":["0","1","2","3","4"],"reasoning":"Understanding the user's personality requires analyzing the astrological details that outline their core character traits, strengths, and potential challenges.","selectedCharts":["astro_details"],"service":"rraasi-backend","timestamp":"2025-08-24 14:11:17"}
[32minfo[39m: Chart selection analysis prompt created {"formattedChartDataLength":0,"formattedChartDataPreview":"...","promptLength":1742,"query":"tell me about my personalty","selectedCharts":["astro_details"],"service":"rraasi-backend","timestamp":"2025-08-24 14:11:17"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:11:18","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting chat history {"conversationId":"conv_1756024857446","limit":50,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:18","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting chat history from Firestore {"conversationId":"conv_1756024857446","limit":50,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:18"}
[32minfo[39m: Retrieved 0 messages from Firestore {"conversationId":"conv_1756024857446","service":"rraasi-backend","timestamp":"2025-08-24 14:11:18"}
[32minfo[39m: Chat history retrieved successfully {"conversationId":"conv_1756024857446","messageCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:18","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:18 +0000] "GET /api/chat/history?limit=50&conversationId=conv_1756024857446 HTTP/1.1" 200 72 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:18"}
[32minfo[39m: Chart selection response generated {"chartDataUsed":[],"responseLength":4010,"responsePreview":"Based on your birth chart data:\n\n1. **Sun in Libra in the 2nd House**: Your Libra Sun positioned in the 2nd house highlights a natural inclination towards harmony and balance, especially in matters re...","selectedCharts":["astro_details"],"service":"rraasi-backend","timestamp":"2025-08-24 14:11:35"}
[32minfo[39m: Saving chat message {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:35","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Storing chat message in Firestore {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:35","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message stored successfully in Firestore {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message saved successfully {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Saving chat message {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Storing chat message in Firestore {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message stored successfully in Firestore {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message saved successfully {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat messages saved to database {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat query processed {"confidence":0.95,"responseLength":4010,"service":"rraasi-backend","success":true,"timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:36 +0000] "POST /api/chat HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:36 +0000] "OPTIONS /api/chat/save-message HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Saving chat message {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Storing chat message in Firestore {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:36 +0000] "OPTIONS /api/chat/history?limit=50&conversationId=conv_1756024857446 HTTP/1.1" 204 0 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting chat history {"conversationId":"conv_1756024857446","limit":50,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting chat history from Firestore {"conversationId":"conv_1756024857446","limit":50,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36"}
[32minfo[39m: Chat message stored successfully in Firestore {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message saved successfully {"conversationId":"user","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:36 +0000] "POST /api/chat/save-message HTTP/1.1" 200 99 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36"}
[32minfo[39m: Development mode: Using user ID from dev token {"reqUser":{"uid":"uDkylEmMWPQn6xRBydQb16ltUle2","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"},"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","uid":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Saving chat message {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Storing chat message in Firestore {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 0 messages from Firestore {"conversationId":"conv_1756024857446","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36"}
[32minfo[39m: Chat history retrieved successfully {"conversationId":"conv_1756024857446","messageCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:36 +0000] "GET /api/chat/history?limit=50&conversationId=conv_1756024857446 HTTP/1.1" 200 72 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36"}
[32minfo[39m: Chat message stored successfully in Firestore {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Chat message saved successfully {"conversationId":"assistant","service":"rraasi-backend","timestamp":"2025-08-24 14:11:36","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:36 +0000] "POST /api/chat/save-message HTTP/1.1" 200 99 "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:36"}
[31merror[39m: Error getting waitlist stats: db.collection is not a function {"service":"rraasi-backend","stack":"TypeError: db.collection is not a function\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/waitlist.js:82:39\n    at Layer.handle [as handle_request] (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-08-24 14:11:38"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:38 +0000] "GET /api/waitlist/stats HTTP/1.1" 500 58 "-" "curl/8.7.1" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:38"}
[31merror[39m: Error adding to waitlist: db.collection is not a function {"service":"rraasi-backend","stack":"TypeError: db.collection is not a function\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/waitlist.js:28:35\n    at Layer.handle [as handle_request] (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/route.js:149:13)\n    at Route.dispatch (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/route.js:119:3)\n    at Layer.handle [as handle_request] (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/index.js:284:15\n    at Function.process_params (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/index.js:346:12)\n    at next (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/index.js:280:10)\n    at Function.handle (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/index.js:175:3)\n    at router (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/express/lib/router/index.js:47:12)","timestamp":"2025-08-24 14:11:47"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:47 +0000] "POST /api/waitlist/join HTTP/1.1" 500 72 "-" "curl/8.7.1" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:47"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:56 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:56 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["4223518996186378417;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:11:56"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:56 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["5444752400919171216;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:11:56"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:56 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:56 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:56 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["1107436217055762310;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:11:56"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:56 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["14250771399076635527;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:11:56"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:56 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["5903509675882716590;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:11:56"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:56 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Getting user profile for journey tracking {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting all user charts {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Retrieved 5 charts from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User charts retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","totalCharts":5,"userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting recent conversations {"limit":5,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[31merror[39m: Error executing Firestore query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg {"code":9,"details":"The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","metadata":{"x-debug-tracking-id":["7730957934425725695;o=1"]},"service":"rraasi-backend","stack":"Error: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg\n    at callErrorFromStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/call.js:31:19)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:357:73)\n    at Object.onReceiveStatus (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client-interceptors.js:323:181)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/resolving-call.js:94:78\n    at process.processTicksAndRejections (node:internal/process/task_queues:77:11)\nfor call at\n    at ServiceClientImpl.makeServerStreamRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/client.js:340:32)\n    at ServiceClientImpl.<anonymous> (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/node_modules/@grpc/grpc-js/build/src/make-client.js:105:19)\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/v1/firestore_client.js:227:29\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:38:28\n    at /Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/normalCalls/timeout.js:44:16\n    at Object.request (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:130:40)\n    at makeRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:141:28)\n    at retryRequest (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/retry-request/index.js:109:5)\n    at StreamProxy.setStream (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streaming.js:121:37)\n    at StreamingApiCaller.call (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/google-gax/build/src/streamingCalls/streamingApiCaller.js:54:16)\nCaused by: Error\n    at Query._get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1738:23)\n    at Query.get (/Users/prakash/Documents/rraasi_mvp/backend/node_modules/@google-cloud/firestore/build/src/reference.js:1726:21)\n    at FirestoreService.queryWithFilters (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreService.js:589:41)\n    at FirestoreRAGService.getRecentConversations (file:///Users/prakash/Documents/rraasi_mvp/backend/src/services/firestoreRAGService.js:397:59)\n    at file:///Users/prakash/Documents/rraasi_mvp/backend/src/routes/userJourney.js:422:59\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-08-24 14:11:56"}
[33mwarn[39m: Firestore index missing for conversations, falling back to simple query {"error":"Failed to execute query: 9 FAILED_PRECONDITION: The query requires an index. You can create it here: https://console.firebase.google.com/v1/r/project/jain-temple-trust/firestore/indexes?create_composite=Ck9wcm9qZWN0cy9qYWluLXRlbXBsZS10cnVzdC9kYXRhYmFzZXMvKGRlZmF1bHQpL2NvbGxlY3Rpb25Hcm91cHMvY2hhdHMvaW5kZXhlcy9fEAEaCgoGdXNlcklkEAEaDQoJdXBkYXRlZEF0EAIaDAoIX19uYW1lX18QAg","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Executing Firestore query with filters {"collection":"chats","filterCount":1,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Query completed successfully, returned 0 results {"collection":"chats","service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Recent conversations retrieved with fallback sorting {"conversationCount":0,"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:41:56 +0000] "GET /api/user-journey/profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 200 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:11:56"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:42:11 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:42:11 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11"}
[32minfo[39m: Getting user profile from database {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: Getting user profile from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved from Firestore {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: User profile retrieved successfully {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11","userId":"uDkylEmMWPQn6xRBydQb16ltUle2"}
[32minfo[39m: ::1 - - [24/Aug/2025:08:42:11 +0000] "GET /api/hybrid-rag/user-profile/uDkylEmMWPQn6xRBydQb16ltUle2 HTTP/1.1" 304 - "http://localhost:5173/" "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/139.0.0.0 Safari/537.36" {"service":"rraasi-backend","timestamp":"2025-08-24 14:12:11"}
[32minfo[39m: SIGTERM received, shutting down gracefully {"service":"rraasi-backend","timestamp":"2025-08-24 14:13:07"}
[32minfo[39m: Process terminated {"service":"rraasi-backend","timestamp":"2025-08-24 14:13:07"}
[32minfo[39m: SIGTERM received, shutting down gracefully {"service":"rraasi-backend","timestamp":"2025-08-24 14:13:41"}
[32minfo[39m: Process terminated {"service":"rraasi-backend","timestamp":"2025-08-24 14:13:41"}
